# ==============================================================================
# .gitignore for Open Science Research Repository
# Optimized for Reproducible Research - Permissive for Research Artifacts
# ==============================================================================

# ==============================================================================
# SYSTEM JUNK (KEEP IGNORED)
# ==============================================================================

# R History files
.Rhistory
.Rapp.history

# R Session Data files
.RData
.RDataTmp

# RStudio files
.Rproj.user/
*.Rproj

# User-specific files
.Ruserdata

# MacOS
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini

# Linux
*~
.directory

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python

# Log files
*.log
*.out

# Temporary files
*.tmp
*.temp
*.swp
*.swo
*~

# ==============================================================================
# BUILD ARTIFACTS (IGNORE)
# ==============================================================================

# R CMD build outputs
/*.tar.gz

# R CMD check outputs
/*.Rcheck/

# Knitr cache
*_cache/
/cache/
.Rproj.user/

# R Markdown temporary files
*.utf8.md
*.knit.md

# ==============================================================================
# CREDENTIALS & SECRETS (KEEP IGNORED - CRITICAL)
# ==============================================================================

# Environment variables
.Renviron
.Renviron.local

# OAuth tokens
.httr-oauth

# API keys and secrets
*.key
*.pem
secrets/
credentials/

# ==============================================================================
# EXPLICITLY ALLOW RESEARCH ARTIFACTS (Open Science)
# ==============================================================================
# These files are CRITICAL for reproducibility and must be tracked

# Allow raw data files
!data/raw/*.xlsx
!data/raw/*.xls
!data/raw/README*.txt

# Allow processed data
!data/processed/*.csv
!data/processed/*.tsv

# Allow documentation
!docs/*.md
!docs/*.txt
!docs/*.pdf

# Allow final model (for reviewers and reproducibility)
# NOTE: This file is ~33MB. GitHub limit is 100MB per file.
# If it exceeds 100MB, consider using Git LFS: git lfs track "*.rds"
!models/final_model.rds

# Allow publication-ready figures
!outputs/figures/*.png
!outputs/figures/*.pdf
!outputs/figures/*.svg

# Allow final tables and results
!outputs/tables/*.csv
!outputs/tables/*.xlsx

# Allow audit reports (model diagnostics)
!outputs/audit_report/*.png
!outputs/audit_report/*.pdf
!outputs/audit_report/*.txt

# ==============================================================================
# IGNORE INTERMEDIATE/LARGE FILES (But allow final artifacts above)
# ==============================================================================

# Ignore other model files (intermediate backups)
models/*.rds
!models/final_model.rds
models/*.rds.bak
models/copd_prevalence_final_model.rds

# Ignore temporary graphics (but allow final figures)
outputs/figures/*.jpg
outputs/figures/*.jpeg
outputs/figures/*.gif
outputs/figures/*.odg
outputs/figures/Rplots.pdf
outputs/figures/*.Rplots.pdf

# Ignore intermediate analysis outputs
outputs/tables/*.tmp
outputs/tables/*.bak

# ==============================================================================
# DIRECTORY STRUCTURE (Keep empty directories)
# ==============================================================================

# Keep directory structure but ignore contents by default
data/raw/*
!data/raw/.gitkeep
!data/raw/README*.txt
!data/raw/*.xlsx

data/processed/*
!data/processed/.gitkeep
!data/processed/*.csv

models/*
!models/.gitkeep
!models/final_model.rds

outputs/figures/*
!outputs/figures/.gitkeep
!outputs/figures/*.png
!outputs/figures/*.pdf

outputs/tables/*
!outputs/tables/.gitkeep
!outputs/tables/*.csv

outputs/audit_report/*
!outputs/audit_report/.gitkeep
!outputs/audit_report/*.png
!outputs/audit_report/*.pdf
!outputs/audit_report/*.txt

# ==============================================================================
# NOTES
# ==============================================================================
# 
# This .gitignore is designed for Open Science repositories where research
# artifacts (data, outputs, figures) should be publicly available.
#
# Large Files:
# - models/final_model.rds (~33MB) is explicitly allowed
# - GitHub file size limit: 100MB
# - If files exceed 100MB, use Git LFS: git lfs track "*.rds"
#
# Reproducibility:
# - All data files (raw and processed) are tracked
# - All final outputs (tables, figures) are tracked
# - Model object is tracked for reproducibility
#
# ==============================================================================
